{{!--     DO NOT ADD <!DOCTYPE html>      --}}
{{!--  * adding it will break the map     --}}
{{!--  * on firefox browser, not sure why --}}

<html lang="en">
  <head>
    {{> head }}
    <title>AmritaTrees | Game</title>
    <link rel="stylesheet" href="/css/styles.css" />
  </head>
  <script src="/js/app.js" type="module"></script>
  <link rel="stylesheet" href="/leaflet/leaflet.css"/>
  <script src="/leaflet/leaflet.js"></script>
  <style>
        .bird-div {
            position: absolute;
            width: 50px;
            height: 50px;
            background-image: url("/assets/game/bird.png");
            background-size: contain;
            background-repeat: no-repeat;
            border-top-left-radius: 50%;
        }

        @keyframes bird-move {
            0% { transform: translate(0, 0) rotate(var(--startAngle)); }
            100% { transform: translate(var(--endX), var(--endY)) rotate(var(--endAngle)); }
        }
        .shake-screen{
          animation: shake 100ms;
          animation-iteration-count: 5;
        }
        @keyframes shake{
          0% {transform:rotate(1deg);}
          100% {transform:rotate(-1deg);}
        }
  </style>
<body class="w-screen h-full relative bg-slate-800 overflow-hidden">

<div
  id="TailwindRequiredStyles"
  class="hidden translate-x-[300px] animate-bounce animate-pulse bg-slate-800"
></div>

  {{!-- {{> newUserPopup }} --}}
  {{> locationPermission }}

  <div id="contentWrapper" style="width:110vw;" class="w-screen relative transition-all">
    <div id="map" style="height: 100%;width:100%;transform:translateX(-5vw);"></div>
    <div id="birdSpawner" style="pointer-events:none;z-index: 10000;height: 100%;width:100%;position:absolute;top:0;left:0;transform:translateX(-5vw);"></div>
    <div id="contentOverlay" style="z-index:999;width:100%;transform:translateX(-5vw);" class="h-screen absolute top-0 left-0 bg-black opacity-50 hidden"></div>
    <script src="/js/birdSpawner.js" type="module"></script>
  </div>

  {{> gameNavbar}}

  {{> sideBar }}
  {{> questionPopup }}
</body>
<script src="/js/mapScript.js" type="module"></script>
<script src="/js/gameScript.js" type="module"></script>
<script src="https://cdn.jsdelivr.net/npm/party-js@latest/bundle/party.min.js"></script>
</html>
